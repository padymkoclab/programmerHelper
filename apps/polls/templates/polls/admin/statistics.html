
{% extends "admin/base_site.html" %}

{% load i18n %}
{% load static %}

{% block extrastyle %}
    {{ block.super }}
    <style>
        #div_statistics{
            float: left;
            width: 25%;
        }
        #div_chart{
            margin: 0 auto;
            width: 50%;
            padding: 20px;
        }
        #table_statistics{
            margin: 0 3px;
        }
            #table_statistics caption{
                text-align: center;
                font-size: 15px;
                font-weight: bold;
            }
            #table_statistics tr td:last-child{
                text-align: right;
            }
    </style>
{% endblock extrastyle %}

{% block extrajs %}
    {{ block.super }}
    <script src="{% static 'project/js/pygal-tooltips.min.js' %}" type="text/javascript" charset="utf-8"></script>
{% endblock extrajs %}

{% block content %}

    <div id="div_statistics">
        <table class="table-overview applist" id="table_statistics">
            <caption>{% trans "Statistics" %}</caption>
            <tr>
                <td>{% trans "Amount a polls" %}</td>
                <td>{{ statistics.count_polls }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount an opened polls" %}</td>
                <td>{{ statistics.count_opened_polls }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount a closed polls" %}</td>
                <td>{{ statistics.count_closed_polls }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount a draft polls" %}</td>
                <td>{{ statistics.count_draft_polls }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount a choices" %}</td>
                <td>{{ statistics.count_choices }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount a votes" %}</td>
                <td>{{ statistics.count_votes }}</td>
            </tr>
            <tr>
                <td>{% trans "Amount a voters" %}</td>
                <td>{{ statistics.count_voters }}</td>
            </tr>
            <tr>
                <td>{% trans "Latest vote" %}</td>
                <td>{{ statistics.latest_vote }}</td>
            </tr>
        </table>
    </div>
    <div id="div_chart">{{ chart_statistics_count_votes_by_year|safe }}</div>
{% endblock content %}
